<h1>Contact form</h1>
<form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <div>
      <label
        >Topic:
        <select class="form-control" formControlName="topic">
          <option value="null" disabled selected>Select an option</option>
          <option *ngFor="let t of topics">
            {{ t }}
          </option>
        </select>
      </label>
    </div>
    <div class="form-group">
      <label
        >Name:
        <input
          class="form-control"
          type="text"
          formControlName="name"
          placeholder="Name or alias"
        />
        <span
          *ngIf="
            !this.contactForm.get('name').valid &&
            this.contactForm.get('name').touched
          "
          class="form-text text-muted"
          >Please enter a valid name</span
        >
      </label>
    </div>
    <div class="form-group">
      <label
        >Age:
        <input
          class="form-control"
          type="text"
          formControlName="age"
          placeholder="age"
        />
        <span
          *ngIf="
            !this.contactForm.get('age').valid &&
            this.contactForm.get('age').touched
          "
          class="form-text text-muted"
          >Must be 18 years of age or older</span
        >
      </label>
    </div>
    <div class="form-group">
      <label>
        Email:
        <input
          class="form-control"
          type="text"
          formControlName="email"
          placeholder="your @"
        />
        <span
          *ngIf="
            !this.contactForm.get('email').valid &&
            this.contactForm.get('email').touched
          "
          class="form-text text-muted"
          >Please enter a valid email</span
        >
      </label>
    </div>
    <div class="form-group">
      <label>
        Reference number:
        <input
          class="form-control"
          type="text"
          formControlName="referenceNumber"
          placeholder="e.g. 674321"
        />
        <span
          *ngIf="
            !this.contactForm.get('referenceNumber').valid &&
            this.contactForm.get('referenceNumber').touched
          "
          class="form-text text-muted"
          >Either leave empty, or enter a valid reference number. Only numbers (0-9) are accepted</span
        >
      </label>
    </div>
    <div class="form-group">
      <label for="exampleFormControlTextarea1">Message:</label>
      <textarea
        class="form-control"
        type="text"
        formControlName="message"
        id="exampleFormControlTextarea1"
        rows="3"
      ></textarea>
      <span
      *ngIf="
        !this.contactForm.get('message').valid &&
        this.contactForm.get('message').touched
      "
      class="form-text text-muted"
      >Please enter a message between 20 and 200 characters</span
    >
    </div>
    <div class="form-check">
      <input
        class="form-check-input"
        formControlName="terms"
        type="checkbox"
        value="false"
        id="defaultCheck1"
      />
      <label class="form-check-label" for="defaultCheck1">
        Agree to terms
      </label>
      <span
      *ngIf="
        !this.contactForm.get('terms').valid &&
        this.contactForm.get('terms').touched
      "
      class="form-text text-muted"
      >Please agree to our <a href="https://www.youtube.com/watch?v=QD0uWNYLSbA">terms</a> before submitting</span
    >
    </div>
  </div>
  <button type="submit" [disabled]="!this.contactForm.valid" class="btn btn-primary mb-2">Submit</button>
</form>

<p>Status: {{ contactForm.status }}</p>
